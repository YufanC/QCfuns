<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="QCfuns">
<title>Get Started • QCfuns</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Started">
<meta property="og:description" content="QCfuns">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">QCfuns</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/QCfuns.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Other_functions.html">Other QCfuns Functions in QC Workflow</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/YufanC/QCfuns/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Get Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/YufanC/QCfuns/blob/HEAD/vignettes/QCfuns.Rmd" class="external-link"><code>vignettes/QCfuns.Rmd</code></a></small>
      <div class="d-none name"><code>QCfuns.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>QCfuns package is a collection of R functions aiming to facilitate
outputs validation process. The functions can interact with each other
and all together construct a workflow that is efficient and easy to
follow.</p>
<p>There are two types of functions in the workflow:</p>
<ul>
<li><p>Data to table functions. These functions take a dataframe of ADaM
structure as input and output a table-like dataframe. The names of these
functions always start with “qc_” and end with the type of table they
are creating, such as <code>qc_demo</code>,
<code>qc_shift</code>.</p></li>
<li><p>Utility functions. Utility functions are functions that perform
tasks other than creating table-like dataframe from ADaM dataset. These
functions include <code>add_snippets</code>, <code>qc_rtf2df</code>,
<code>qc_comparedf</code> and <code>qc_batchrun</code>.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="qc-workflow">QC Workflow<a class="anchor" aria-label="anchor" href="#qc-workflow"></a>
</h2>
<p>The accuracy and integrity of clinical reports are essential for
ensuring the safety and efficacy of investigational drugs. To validate
the accuracy of clinical reports, double programming is often required.
To streamline the QC programming workflow and optimize the productive
review process, the QCfuns package offers a collection of handy R
utility functions. The major features of this utility tool include the
following.</p>
<ul>
<li><p>Access build-in QC script template in snippet, which provides a
helpful starting point than building scripts from scratch.</p></li>
<li><p>Convert RTF table format into a data frame, which will be easily
used to compare numbers between production and QC sides. RTFs can be
either in SAS or in R.</p></li>
<li><p>Generate comparison results by comparing two data frames from QC
work and production sides.</p></li>
<li><p>Perform batch run against all QC scripts and generate overall
summary report for review.</p></li>
</ul>
<p><img src="QCworkflow.png" width="100%"></p>
<p>As a QC programmer, our workflow begins by creating a dataframe based
on ADaM datasets, SAP, and DPS. We then utilize the
<code>qc_rtf2df</code> function in R to convert the table output from
rtf format into a data frame. This allows us to easily manipulate and
analyze the data.</p>
<p>Next, we employ the <code>qc_comparedf</code> function to compare the
two dataframes. This function helps us identify any discrepancies or
differences between the two datasets, allowing us to ensure the accuracy
and consistency of our results.</p>
<p>In situations where we need to validate multiple outputs, we can
repeat the validation process and streamline it using the
<code>qc_batchrun</code> function. This function enables us to run all
the QC scripts in one go and obtain a comprehensive summary report of
the validation results.</p>
</div>
<div class="section level2">
<h2 id="key-functions">Key functions<a class="anchor" aria-label="anchor" href="#key-functions"></a>
</h2>
<p>To summarize, the key functions in our QC workflow are
<code>qc_rtf2df</code>, <code>qc_comparedf</code> and
<code>qc_batchrun</code>. Each function plays a crucial role in
facilitating data conversion, comparison, and validation. The detailed
introduction of these functions are as below.</p>
<div class="section level3">
<h3 id="read-in-rtf-files">Read in rtf files<a class="anchor" aria-label="anchor" href="#read-in-rtf-files"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/qc_rtf2df.html">qc_rtf2df</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"tsfae-st03"</span>, path <span class="op">=</span> <span class="va">opath</span><span class="op">[[</span><span class="st">"PREPROD"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>rtf layout</p>
<p><img src="rtf.png" width="80%"></p>
<p>R dataframe (Get rid of title, footnotes and empty lines)</p>
<p><img src="rtfdf.png" width="80%"></p>
</div>
<div class="section level3">
<h3 id="compare-dataframes">Compare dataframes<a class="anchor" aria-label="anchor" href="#compare-dataframes"></a>
</h3>
<p>qc_comparedf function leverages the compare_df function from the
compareDF package to generate a concise and color-coded summary of
comparison results between the data frame created and the data frame
extracted from the rtf file</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/qc_comparedf.html">qc_comparedf</a></span><span class="op">(</span>qc <span class="op">=</span> <span class="va">tab_qc</span>, rtf <span class="op">=</span> <span class="va">tab_rtf</span>, path <span class="op">=</span> <span class="va">qc</span><span class="op">[[</span><span class="st">"PDEV"</span><span class="op">]</span><span class="op">]</span>, filename <span class="op">=</span> <span class="st">"tsfae-st03"</span>, keep_unchanged_rows <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="compare.png" width="70%"></p>
</div>
<div class="section level3">
<h3 id="batchrun">Batchrun<a class="anchor" aria-label="anchor" href="#batchrun"></a>
</h3>
<p>qc_batchrun function can digest the results from qc_comparedf and
produce a comprehensive summary of the validation status for multiple
outputs simultaneously with log and comparison output for each
individual script. The qc_batchrun can be executable not only in RStudio
interactively, but also allow users to run batch jobs independently of
the RStudio IDE.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### select all r scripts start with 'qct' on SPACE</span></span>
<span><span class="va">qc_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">qc</span><span class="op">[[</span><span class="st">"PDEV"</span><span class="op">]</span><span class="op">]</span>, pattern <span class="op">=</span> <span class="st">"qct.*\\.r"</span>, </span>
<span>                       full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/qc_batchrun.html">qc_batchrun</a></span><span class="op">(</span>files <span class="op">=</span> <span class="va">qc_files</span>, path <span class="op">=</span> <span class="va">qc</span><span class="op">[[</span><span class="st">"PDEV"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="batchrun.gif" width="100%"></p>
<p>Scripts with errors and mismatched results will be on the top of the
summary report. Individual comparing results can be accessed by
hyperlinks</p>
<p><img src="batchrun_result.png" width="60%"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Yufan Chen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
